<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>Google Maps Campus</title>
    <script src="http://maps.google.com/maps/api/js?sensor=false"
            type="text/javascript"></script>
</head>
<body>
<div id="map" style="width: 100%; height: 85%"></div>
<div id ="options" style="width: 100%; height: 15%">
    <div>Start:
        <select id="start">
            <option>Building 1</option>
            <option>Building 2</option>
            <option>Building 3</option>
        </select>
    </div>

    <div>End:
        <select id="end">
            <option>Building 1</option>
            <option>Building 2</option>
            <option>Building 3</option>
        </select>
    </div>

    <input type="button" onclick="drawDirections();" value="GO" />
</div>
<script type="text/javascript">
    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }

    function showPosition(position) {
        var latlon = position.coords.latitude + "," + position.coords.longitude;
    }

    var mapOptions = {
        mapTypeId: google.maps.MapTypeId.TERRAIN,
        center: new google.maps.LatLng(-36.931331, 174.669777),
        zoom: 18
    };

    var map = new google.maps.Map(document.getElementById("map"),
        mapOptions);

    // Predefine all the paths
    var paths = [];

    paths['1_to_2'] = new google.maps.Polyline({
        path: [
            new google.maps.LatLng(47.656, -122.360),
            new google.maps.LatLng(47.656, -122.343),
            new google.maps.LatLng(47.690, -122.310)
        ], strokeColor: '#FF0000'
    });

    paths['1_to_3'] = new google.maps.Polyline({
        path: [
            new google.maps.LatLng(47.656, -122.360),
            new google.maps.LatLng(47.656, -122.343),
            new google.maps.LatLng(47.690, -122.270)
        ], strokeColor: '#FF0000'
    });

    paths['2_to_3'] = new google.maps.Polyline({
        path: [
            new google.maps.LatLng(47.690, -122.310),
            new google.maps.LatLng(47.690, -122.270)
        ], strokeColor: '#FF0000'
    });

    function drawDirections() {
        var start = 1 + document.getElementById('start').selectedIndex;
        var end = 1 + document.getElementById('end').selectedIndex;
        var i;

        if (start === end) {
            alert('Please choose different buildings');
        }
        else {
            // Hide all polylines
            for (i in paths) {
                paths[i].setOptions({ map: null });
            }

            // Show the route
            if (typeof paths['' + start + '_to_' + end] !== 'undefined') {
                paths['' + start + '_to_' + end].setOptions({ map: map });
            }
            else if (typeof paths['' + end + '_to_' + start] !== 'undefined') {
                paths['' + end + '_to_' + start].setOptions({ map: map });
            }
        }
    }
</script>
</body>
</html>